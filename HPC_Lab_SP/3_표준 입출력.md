# HPC Lab SP

## Low-level vs High-level file IO
- Low-Level File IO (System call)
  - 시스템 콜을 이용해서 파일 입출력 수행
  - File Descriptor 사용
  - Byte 단위로 디스크에 입출력
  - 특수 파일에 대한 입출력 가능
- High-Level File IO (Buffered IO)
  - C Standard library를 사용해서 파일 입출력 수행
  - File Pointer 사용
  - 버퍼(block) 단위로 디스크에 입출력 (여러 형식의 입출력 지원)

## 3강-1. 사용자 버퍼 IO
### Disk address
- Physical disk address
  - Sector(물리적 데이터 전송 단위)를 지정
  - [Cylinder #, Surface #, Sector #]
- Logical disk address: relative address
  - Disk system의 데이터 전체를 block들의 나열로 취급
    - Block에 번호 부여
    - 임의의 Block에 접근 가능
  - Block 번호 -> physical address 모듈 필요 (disk driver)
- Disk address mapping이라는 작업을 통해, Logical disk address -> Physical disk address

### Block
- 운영체제 입장에서 file system은 block들의 나열
- 파일 시스템의 추상화
- Disk 접근의 최소 단위

### File IO vs Disk IO
- File IO with system call, Access in a unit of **byte**
- Disk IO, Access in a unit of **block**
- byte -> Buffer (Page write-back) -> block

### Kernel buffer (Page cache)
- Page write-back 시점
  - (커널의) 메모리 공간이 부족할 때
  - 내용이 변경 된 후, 일정 시간이 지나면
  - `fsync` 호출 (강제 동기화)
- Write-back 시점은 유저 입장에서 예측하기 어려움

### User-buffered IO
- OS에 맡기는 것이 아니라, 직접 버퍼를 만들어 사용하면 효율적으로 사용할 수 있음

## 3강-2. File open & close

## 3강-3~4. File read & write

## 3강-5. File offset & File Pointer
